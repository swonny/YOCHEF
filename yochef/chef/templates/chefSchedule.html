{% extends 'base.html' %}
{% load static %}
{% block style %}
<link rel="stylesheet" href="{% static 'css/chefSchedule.css' %}">
{% endblock %}
{% block content %}
    <div class="chef-schedule-body">
        <div class="edit-chef-wrapper">
            {% include 'editChefProfile_side.html' %}
                <div class="edit-content edit-schedule">
                    <!-- 예약글 정보 -->
                    <div class="header-container">
                        <h3 class="item__header">예약 일정 현황</h3>
                        <div class="post-content">
                            <div class="post-register-time">{{post.registerDate}}</div>
                            <div class="post-container">
                                <div class="post__title">{{post.title}}</div>
                                <div class="moving-price">{{post.movingPrice}}</div>
                            </div>
                        </div>
                    </div>
                    <!-- // 예약글 정보 -->

                    <!-- 날짜 선택 -->
                    <aside class="date-filter-wrapper">
                        <div class="date-filter__start-date"><input class="start-date" type="date"></div>
                        <span>~</span>
                        <div class="date-filter__end-date"><input class="end-date" type="date"></div>
                        <button onclick="dateFilter()" class="search-button" type="button"><img style="width: 20px; height:20px;" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuY29tL3N2Z2pzIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDUxMi4wMDUgNTEyLjAwNSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+Cgk8Zz4KCQk8cGF0aCBkPSJNNTA1Ljc0OSw0NzUuNTg3bC0xNDUuNi0xNDUuNmMyOC4yMDMtMzQuODM3LDQ1LjE4NC03OS4xMDQsNDUuMTg0LTEyNy4zMTdjMC0xMTEuNzQ0LTkwLjkyMy0yMDIuNjY3LTIwMi42NjctMjAyLjY2NyAgICBTMCw5MC45MjUsMCwyMDIuNjY5czkwLjkyMywyMDIuNjY3LDIwMi42NjcsMjAyLjY2N2M0OC4yMTMsMCw5Mi40OC0xNi45ODEsMTI3LjMxNy00NS4xODRsMTQ1LjYsMTQ1LjYgICAgYzQuMTYsNC4xNiw5LjYyMSw2LjI1MSwxNS4wODMsNi4yNTFzMTAuOTIzLTIuMDkxLDE1LjA4My02LjI1MUM1MTQuMDkxLDQ5Ny40MTEsNTE0LjA5MSw0ODMuOTI4LDUwNS43NDksNDc1LjU4N3ogICAgIE0yMDIuNjY3LDM2Mi42NjljLTg4LjIzNSwwLTE2MC03MS43NjUtMTYwLTE2MHM3MS43NjUtMTYwLDE2MC0xNjBzMTYwLDcxLjc2NSwxNjAsMTYwUzI5MC45MDEsMzYyLjY2OSwyMDIuNjY3LDM2Mi42Njl6IiBmaWxsPSIjZmZmZmZmIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIj48L3BhdGg+Cgk8L2c+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPC9nPjwvc3ZnPg==" /></button>
                    </aside>
                    <!-- // 날짜 선택 -->

                    <!-- 전체 일정 목록 -->
                    <article class="schedule-list-wrapper">
                        <h3 class="schedule-list__header">전체 예약 목록</h3>
                        <table class="schedule-list__total-container">                
                            <tr class="list-header-container">                                                
                                <th class="list-item td-date">예약날짜</th>
                                <th class="list-item td-region">지역</th>
                                <th class="list-item td-paymentStatus">예약현황</th>
                                <th class="list-item td-course">코스</th>
                                <th class="list-item td-person-num">인원</th>
                                <th class="list-item td-total-price">결제금액</th>
                                <th class="list-item td-confirm-status">승인여부</th>
                                <th class="list-item td-detail">상세내역</th>
                                <th class="list-item td-delete">삭제</th>
                            </tr>

                            {% for schedule in scheduleList %}
                            <tr class="list-container">
                                <td class="list-item td-date date">{{schedule.eventDate|date:"y.m.d"}}</td>
                                <td class="list-item td-region">{{schedule.regionDetail.detailName}}</td>
                                <td class="list-item td-paymentStatus">{{schedule.paymentStatus|default:'-'}}</td>
                                <td class="list-item td-course">{{schedule.course|default:'-'}}</td>
                                <td class="list-item td-person-num">{{schedule.personNum|default:'-'}}</td>
                                <td class="list-item td-total-price">{{schedule.totalPrice|default:'-'}}</td>
                                <td class="list-item td-confirm-status">{{schedule.confirmStatus|default:'-'}}</td>
                                <td class="list-item td-detail">{% if schedule.course %}<a href="{% url 'chefScheduleDetail' schedule.bookID %}" style="text-decoration: underline;">확인</a>{% else %} <p style="color:#9e9e9e">확인</p> {% endif %}</td>
                                {% if schedule.confirmStatus == "취소됨" %}
                                <td class="list-item td-delete" onclick="deleteSchedule(this)" style="cursor: pointer;" value="{{schedule.scheduleID}}"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuY29tL3N2Z2pzIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDQwNyA0MDciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiIGNsYXNzPSIiPjxnPjxwYXRoIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZD0ibTg5LjE5OTIxOSAzN2MwLTEyLjEzMjgxMiA5LjQ2ODc1LTIxIDIxLjYwMTU2Mi0yMWg4OC44MDA3ODFjMTIuMTI4OTA3IDAgMjEuNTk3NjU3IDguODY3MTg4IDIxLjU5NzY1NyAyMXYyM2gxNnYtMjNjMC0yMC45NTMxMjUtMTYuNjQ0NTMxLTM3LTM3LjU5NzY1Ny0zN2gtODguODAwNzgxYy0yMC45NTMxMjUgMC0zNy42MDE1NjIgMTYuMDQ2ODc1LTM3LjYwMTU2MiAzN3YyM2gxNnptMCAwIiBmaWxsPSIjOTI5MjkyIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PHBhdGggeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBkPSJtNjAuNjAxNTYyIDQwN2gxODkuMTk5MjE5YzE4LjI0MjE4OCAwIDMyLjM5ODQzOC0xNi4wNDY4NzUgMzIuMzk4NDM4LTM2di0yNDdoLTI1NHYyNDdjMCAxOS45NTMxMjUgMTQuMTU2MjUgMzYgMzIuNDAyMzQzIDM2em0xNDUuNTk3NjU3LTI0NC44MDA3ODFjMC00LjQxNzk2OSAzLjU4MjAzMS04IDgtOHM4IDMuNTgyMDMxIDggOHYxODljMCA0LjQxNzk2OS0zLjU4MjAzMSA4LTggOHMtOC0zLjU4MjAzMS04LTh6bS01OSAwYzAtNC40MTc5NjkgMy41ODIwMzEtOCA4LThzOCAzLjU4MjAzMSA4IDh2MTg5YzAgNC40MTc5NjktMy41ODIwMzEgOC04IDhzLTgtMy41ODIwMzEtOC04em0tNTkgMGMwLTQuNDE3OTY5IDMuNTgyMDMxLTggOC04czggMy41ODIwMzEgOCA4djE4OWMwIDQuNDE3OTY5LTMuNTgyMDMxIDgtOCA4cy04LTMuNTgyMDMxLTgtOHptMCAwIiBmaWxsPSIjOTI5MjkyIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PHBhdGggeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBkPSJtMjAgMTA4aDI3MC4zOTg0MzhjMTEuMDQ2ODc0IDAgMjAtOC45NTMxMjUgMjAtMjBzLTguOTUzMTI2LTIwLTIwLTIwaC0yNzAuMzk4NDM4Yy0xMS4wNDY4NzUgMC0yMCA4Ljk1MzEyNS0yMCAyMHM4Ljk1MzEyNSAyMCAyMCAyMHptMCAwIiBmaWxsPSIjOTI5MjkyIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PC9nPjwvc3ZnPg==" /></td>
                                {% elif not schedule.course %}
                                <td  class="list-item td-delete" onclick="deleteSchedule(this)" style="cursor: pointer;" value="{{schedule.scheduleID}}"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuY29tL3N2Z2pzIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDQwNyA0MDciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiIGNsYXNzPSIiPjxnPjxwYXRoIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZD0ibTg5LjE5OTIxOSAzN2MwLTEyLjEzMjgxMiA5LjQ2ODc1LTIxIDIxLjYwMTU2Mi0yMWg4OC44MDA3ODFjMTIuMTI4OTA3IDAgMjEuNTk3NjU3IDguODY3MTg4IDIxLjU5NzY1NyAyMXYyM2gxNnYtMjNjMC0yMC45NTMxMjUtMTYuNjQ0NTMxLTM3LTM3LjU5NzY1Ny0zN2gtODguODAwNzgxYy0yMC45NTMxMjUgMC0zNy42MDE1NjIgMTYuMDQ2ODc1LTM3LjYwMTU2MiAzN3YyM2gxNnptMCAwIiBmaWxsPSIjOTI5MjkyIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PHBhdGggeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBkPSJtNjAuNjAxNTYyIDQwN2gxODkuMTk5MjE5YzE4LjI0MjE4OCAwIDMyLjM5ODQzOC0xNi4wNDY4NzUgMzIuMzk4NDM4LTM2di0yNDdoLTI1NHYyNDdjMCAxOS45NTMxMjUgMTQuMTU2MjUgMzYgMzIuNDAyMzQzIDM2em0xNDUuNTk3NjU3LTI0NC44MDA3ODFjMC00LjQxNzk2OSAzLjU4MjAzMS04IDgtOHM4IDMuNTgyMDMxIDggOHYxODljMCA0LjQxNzk2OS0zLjU4MjAzMSA4LTggOHMtOC0zLjU4MjAzMS04LTh6bS01OSAwYzAtNC40MTc5NjkgMy41ODIwMzEtOCA4LThzOCAzLjU4MjAzMSA4IDh2MTg5YzAgNC40MTc5NjktMy41ODIwMzEgOC04IDhzLTgtMy41ODIwMzEtOC04em0tNTkgMGMwLTQuNDE3OTY5IDMuNTgyMDMxLTggOC04czggMy41ODIwMzEgOCA4djE4OWMwIDQuNDE3OTY5LTMuNTgyMDMxIDgtOCA4cy04LTMuNTgyMDMxLTgtOHptMCAwIiBmaWxsPSIjOTI5MjkyIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PHBhdGggeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBkPSJtMjAgMTA4aDI3MC4zOTg0MzhjMTEuMDQ2ODc0IDAgMjAtOC45NTMxMjUgMjAtMjBzLTguOTUzMTI2LTIwLTIwLTIwaC0yNzAuMzk4NDM4Yy0xMS4wNDY4NzUgMC0yMCA4Ljk1MzEyNS0yMCAyMHM4Ljk1MzEyNSAyMCAyMCAyMHptMCAwIiBmaWxsPSIjOTI5MjkyIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PC9nPjwvc3ZnPg==" /></td>
                                {% else %}
                                <td style="opacity: 50%;" class="list-item td-delete"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuY29tL3N2Z2pzIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDQwNyA0MDciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiIGNsYXNzPSIiPjxnPjxwYXRoIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZD0ibTg5LjE5OTIxOSAzN2MwLTEyLjEzMjgxMiA5LjQ2ODc1LTIxIDIxLjYwMTU2Mi0yMWg4OC44MDA3ODFjMTIuMTI4OTA3IDAgMjEuNTk3NjU3IDguODY3MTg4IDIxLjU5NzY1NyAyMXYyM2gxNnYtMjNjMC0yMC45NTMxMjUtMTYuNjQ0NTMxLTM3LTM3LjU5NzY1Ny0zN2gtODguODAwNzgxYy0yMC45NTMxMjUgMC0zNy42MDE1NjIgMTYuMDQ2ODc1LTM3LjYwMTU2MiAzN3YyM2gxNnptMCAwIiBmaWxsPSIjOTI5MjkyIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PHBhdGggeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBkPSJtNjAuNjAxNTYyIDQwN2gxODkuMTk5MjE5YzE4LjI0MjE4OCAwIDMyLjM5ODQzOC0xNi4wNDY4NzUgMzIuMzk4NDM4LTM2di0yNDdoLTI1NHYyNDdjMCAxOS45NTMxMjUgMTQuMTU2MjUgMzYgMzIuNDAyMzQzIDM2em0xNDUuNTk3NjU3LTI0NC44MDA3ODFjMC00LjQxNzk2OSAzLjU4MjAzMS04IDgtOHM4IDMuNTgyMDMxIDggOHYxODljMCA0LjQxNzk2OS0zLjU4MjAzMSA4LTggOHMtOC0zLjU4MjAzMS04LTh6bS01OSAwYzAtNC40MTc5NjkgMy41ODIwMzEtOCA4LThzOCAzLjU4MjAzMSA4IDh2MTg5YzAgNC40MTc5NjktMy41ODIwMzEgOC04IDhzLTgtMy41ODIwMzEtOC04em0tNTkgMGMwLTQuNDE3OTY5IDMuNTgyMDMxLTggOC04czggMy41ODIwMzEgOCA4djE4OWMwIDQuNDE3OTY5LTMuNTgyMDMxIDgtOCA4cy04LTMuNTgyMDMxLTgtOHptMCAwIiBmaWxsPSIjOTI5MjkyIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PHBhdGggeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBkPSJtMjAgMTA4aDI3MC4zOTg0MzhjMTEuMDQ2ODc0IDAgMjAtOC45NTMxMjUgMjAtMjBzLTguOTUzMTI2LTIwLTIwLTIwaC0yNzAuMzk4NDM4Yy0xMS4wNDY4NzUgMC0yMCA4Ljk1MzEyNS0yMCAyMHM4Ljk1MzEyNSAyMCAyMCAyMHptMCAwIiBmaWxsPSIjOTI5MjkyIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PC9nPjwvc3ZnPg==" /></td>
                                {% endif %}
                            </tr>
                            {% endfor %}

                        </table>
                    </article>
                    <!-- // 전체 일정 목록 -->

                    <!-- 예약 일정 등록 -->
                    <div class="shedule-register-wrapper">
                        <div class="schedule-register__header">
                            <h3 class="schedule-register__title">예약 일정 등록</h3>
                            <div>
                                <img class="notice-image" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuY29tL3N2Z2pzIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDQ3My45MzEgNDczLjkzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgY2xhc3M9IiI+PGc+CjxjaXJjbGUgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBzdHlsZT0iIiBjeD0iMjM2Ljk2NiIgY3k9IjIzNi45NjYiIHI9IjIzNi45NjYiIGZpbGw9IiNiZDAwMDAiIGRhdGEtb3JpZ2luYWw9IiNlNzllMmQiIGNsYXNzPSIiPjwvY2lyY2xlPgo8cGF0aCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSIiIGQ9Ik0yMTQuMzk5LDI1Mi4zODlsLTYuNjk4LTEwMC4xNTljLTEuMjU3LTE5LjUxNy0xLjg3MS0zMy41MjYtMS44NzEtNDIuMDI3ICBjMC0xMS41NywzLjAzNS0yMC42MDIsOS4wODUtMjcuMDcyYzYuMDY1LTYuNDk5LDE0LjA1NC05Ljc0LDIzLjk0LTkuNzRjMTEuOTk2LDAsMjAuMDIyLDQuMTUsMjQuMDU2LDEyLjQ0NSAgYzQuMDM0LDguMzAzLDYuMDY1LDIwLjI1OCw2LjA2NSwzNS44NTdjMCw5LjIwNS0wLjQ5NCwxOC41NTktMS40NTksMjguMDIybC04Ljk5NSwxMDMuMDg5Yy0wLjk3MywxMi4yNzctMy4wNjEsMjEuNjgtNi4yNzksMjguMjM5ICBjLTMuMjA3LDYuNTQ0LTguNTA5LDkuODE1LTE1Ljg4OCw5LjgxNWMtNy41MzYsMC0xMi43NTYtMy4xNTgtMTUuNjgyLTkuNTEyQzIxNy43NDQsMjc1LjAxNiwyMTUuNjQ1LDI2NS4zNTEsMjE0LjM5OSwyNTIuMzg5eiAgIE0yMzcuNjA5LDM4OS45NzRjLTguNTAxLDAtMTUuOTM2LTIuNzM5LTIyLjI2Ny04LjI1MWMtNi4zNDYtNS40OTctOS41MTItMTMuMTk3LTkuNTEyLTIzLjEwMmMwLTguNjQ3LDMuMDM1LTE2LjAwNCw5LjA4NS0yMi4wNjkgIGM2LjA2NS02LjA2NSwxMy40OTMtOS4wOTIsMjIuMjc1LTkuMDkyYzguNzg2LDAsMTYuMjY5LDMuMDI3LDIyLjQ3Nyw5LjA5MmM2LjIwNCw2LjA2NSw5LjMxLDEzLjQyNSw5LjMxLDIyLjA2OSAgYzAsOS43NTEtMy4xMzYsMTcuNDE0LTkuNDE4LDIyLjk5N0MyNTMuMjkxLDM4Ny4xOSwyNDUuOTc2LDM4OS45NzQsMjM3LjYwOSwzODkuOTc0eiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iI2NhN2IyOSIgY2xhc3M9IiI+PC9wYXRoPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8L2c+PC9zdmc+" />
                                <p class="notice--after">요리하실 메뉴에 대해 여러 장소/날짜를 추가할 수 있습니다.</p>
                            </div>
                            </div>
                        <div class="schedule-register__form-wrapper">
                            <form onsubmit="return formCheck()" class="schedule-register-form" method="POST" name="scheduleRegister" action="{% url 'addSchedule' %}">
                            {% csrf_token %}
                                <!-- 지역 추가 -->
                                <div class="form__region">
                                    <h4 class="region__title">지역 선택</h4>

                                    <div class="region__select-container">
                                        <select id="region-selection" name="residence"></select>
                                    </div>
                                    <div class="region__select-container">
                                        <select class="hide" name="residenceDetail"></select>
                                    </div>
                                </div>
                                <!-- // 지역 추가 -->

                                <!-- 날짜 선택 -->
                                <div class="form__date">
                                    <h4 class="date__title">날짜 선택</h4>
                                    <div class="date__select-container">
                                        <input class="schedule-date" type="date" name="scheduleDate"><!--백참고-->
                                    </div>
                                    <!-- 추후구현: schedule 날짜 추가
                                    <button onclick="dateAdd(this)" class="add-button" type="button" name="addDate">날짜 추가</button>
                                    // 추후구현: schedule 날짜 추가 -->
                                </div>
                                <!-- // 날짜 선택 -->

                                <!-- 시간 입력 -->
                                <div class="form__time">
                                    <div class="time__header">
                                        <h4 class="time__title">시간 선택</h4>
                                    </div>
                                    <div class="time__select-container">
                                        <input type="text" name="scheduleTime" placeholder=" ex) 아침, 점심, 저녁, 야간"><!--백참고-->
                                    </div>
                                </div>
                                <!-- // 시간 입력 -->

                                <aside class="button">
                                    <button type="submit" class="add-schedule">등록</button>
                                </aside>
                            </form>
                        </div>
                    </div>
                    <!-- // 예약 일정 등록 -->
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
<script>

    //날짜 필터
    function dateFilter() {
        //document.getElementsByClassName("list-container")[0].classList.remove('hidden');
        let startDate = document.querySelector("input.start-date").value;
        let endDate = document.querySelector("input.end-date").value;
        let scheduleDate = document.getElementsByClassName("list-container");
        
        for(let i = 0; i < scheduleDate.length; i ++) {
            //console.log(scheduleCount);
            //console.log(scheduleDate[i]);
            scheduleDate[i].classList.remove("hidden");
            let date = scheduleDate[i].getElementsByClassName('date')[0].innerHTML;
            let year = "20" + date.substring(0,2);
            let month = date.substring(3,5);
            let day = date.substring(6,8);

            let fullDate = new Date(year, month-1, day);
            console.log(fullDate);
            
            if (fullDate > new Date(`${endDate.substring(0,4)}`,`${endDate.substring(5,7)}`-1,`${endDate.substring(8,10)}`) ) {
                document.getElementsByClassName("list-container")[i].classList.add("hidden");
            } else if (fullDate < new Date(`${startDate.substring(0,4)}`,`${startDate.substring(5,7)}`-1,`${startDate.substring(8,10)}`)) {
                document.getElementsByClassName("list-container")[i].classList.add("hidden");
            }
        }
    }

    // 제우스 - schedule delete
    function deleteSchedule(e) {
        const check = confirm("삭제하시겠습니까?")
        if (check) {
        const formdata = new FormData();
        formdata.append('scheduleID', e.getAttribute("value"))
        sendAjax('POST', 'delete', ()=>{}, formdata)
        e.parentNode.remove()
        }
    }

    //form data 모두 등록되었는지 확인
    function formCheck() {
        const region = document.querySelector('input.schedule-date').value;
        
        if( region == "" ) {
            alert("날짜를 입력해주세요!")

            return false;
        } else {
            return true;
        }
    }

    //form data 모두 등록되었는지 확인
    /*function formCheck(e) {
        const region = document.querySelector('input.schedule-date').value;
        
        if( region == "" ) {
            alert("날짜를 입력해주세요!")
            return ;
        }
    }*/

    //지역 detail
    document.addEventListener("DOMContentLoaded", () => {
        getRegion();
        getRegionDetail(1);
    });

    document.getElementsByName('residence')[0].addEventListener('change', (event)=>{
        getRegionDetail(document.getElementsByName('residence')[0].value);
    });

    //스케줄 - 날짜 추가
    function dateAdd(e) {
        const newDate = document.getElementsByClassName("date__select-container");
        const dateNode = newDate[0].cloneNode(true);
        dateNode.value = "";
        const scheduleDate = document.getElementsByName('scheduleDate');
        
        let type = e.type;
        if (newDate.length < 10) {
            if(scheduleDate[0].value == ""){
                alert("날짜를 입력해주세요!");
            } else {
                e.parentNode.insertBefore(dateNode, e.parentNode.childNodes[newDate.length]);
            }
        } else {
            alert("날짜는 최대 10개까지 등록할 수 있습니다.");
        }
    }
    
    //스케줄 table
    /*function test(e){
        //formData input 값 가져오기
        var formData = new FormData(document.getElementsByClassName("schedule-register-form")[0]);
        const scheduleRegion = formData.get('residence');
        let scheduleDate = new Array();
        scheduleDate = formData.getAll('scheduleDate');
        const scheduleTime = formData.get('scheduleTime');
        const dateLength = scheduleDate.length;
        
        const iterator = scheduleDate.values();

        //입력한 날짜 수만큼 반복
        for (const value of iterator) {
            scheduleDate = value;
            document
            .getElementsByClassName('schedule-list__total-container')[0]
            .appendChild(createTableRow(scheduleRegion, scheduleDate, dateLength));

            console.log(value);
        }
        document.getElementById("region-selection").value = "1";
        document.getElementsByName("residenceDetail").value = "1";
        
        //document.getElementsByClassName("date__select-container")[1].remove = "";
       // document.getElementsByClassName(`tr${rmidx}`).remove();
    }

    function createTableRow(region, date, dateLength){
        //DOM - tr
        let row = document.createElement("tr");
        row.className = 'list-container';

        //DOM - td
        let tdDate = document.createElement("td");
        let tdRegion = document.createElement("td");
        let tdConfirmStatus = document.createElement("td");
        let td4 = document.createElement("td");
        let td5 = document.createElement("td");
        let td6 = document.createElement("td");
        let td7 = document.createElement("td");
        let td8 = document.createElement("td");
        let td9 = document.createElement("td");
        tdDate.className = 'list-item .td-date';
        tdRegion.className = 'list-item';
        tdConfirmStatus.className = 'list-item';
        td4.className = 'list-item';
        td5.className = 'list-item';
        td6.className = 'list-item';
        td7.className = 'list-item';
        td8.className = 'list-item';
        td9.className = 'list-item';
        console.log(date);
        //datetime format YY.MM.DD로 변환
        date = `${date}`.substring(2,4) +'.' +`${date}`.substring(5,7) + '.' + `${date}`.substring(8,11);
        //region -> string 변환
        tdDate.innerHTML = date;
        if(region == 1) {tdRegion.innerHTML = "서울";}
        if(region == 2) {tdRegion.innerHTML = "경기";}
        if(region == 3) {tdRegion.innerHTML = "인천";}
        if(region == 4) {tdRegion.innerHTML = "부산";}
        if(region == 5) {tdRegion.innerHTML = "경상·대구·울산";}
        if(region == 6) {tdRegion.innerHTML = "대전·충청";}
        if(region == 7) {tdRegion.innerHTML = "강원";}
        if(region == 8) {tdRegion.innerHTML = "광주·전라·제주";}
        sendAjax('GET', '/getRegion', regionString);
        function regionString(data) {
            let region = '';
            tdRegion.innerHTML = `${data[id]}`;
        }       

        tdConfirmStatus.innerHTML = "-";
        td4.innerHTML = "-";
        td5.innerHTML = "-";
        td6.innerHTML = "-";
        td7.innerHTML = "-";
        td8.innerHTML = "-";
        td9.innerHTML = "-";
        

        row.appendChild(tdDate);
        row.appendChild(tdRegion);
        row.appendChild(tdConfirmStatus);
        row.appendChild(td4);
        row.appendChild(td5);
        row.appendChild(td6);
        row.appendChild(td7);
        row.appendChild(td8);
        row.appendChild(td9);

        return row;
    } */

    

    //formData ajax 전송



    /*function test() {
    //formData 가져오기 & 전송

-   var xhr = new XMLHttpRequest();
    formData.append('scheduleRegion', scheduleRegion);
    formData.append('scheduleDate', scheduleDate);
    formData.append('scheduleDate', scheduleTime);
    // sendAjax('POST', 'chef/chefSchedule/update', ()=>{}, formData);
    
    xhr.onload = function() {
    if (xhr.status === 200 || xhr.status === 201) {
        console.log(xhr.responseText);
    } else {
        console.error(xhr.responseText);
    }
    };
    xhr.open('POST', 'update');
    xhr.send(scheduleDate, scheduleRegion, scheduleTime);
    addTable(scheduleDate.length);
    }*/


    //스케줄 table
    /*function test(e){
        //formData input 값 가져오기
        var formData = new FormData(document.getElementsByClassName("schedule-register-form")[0]);
        const scheduleRegion = formData.get('scheduleRegion');
        const scheduleDate = formData.getAll('scheduleDate');
        const scheduleTime = formData.get('scheduleTime');

        const table = document.getElementsByClassName('schedule-list__total-container')[0]; 

        function addSchedule(){
            if(scheduleDate[0] == "" || scheduleRegion == 1){
                alert("필수 입력을 확인해보세요!")
            } else {
                document.getElementsByClassName('schedule-list__total-container')[0].appendChild(createTableRow());
                function createTableRow() {
                    let row = document.createElement("tr");
                    var cell1 = row.insertCell(0);
                    var cell2 = row.insertCell(1);
                    cell1.innerHTML = scheduleRegion;
                    cell2.innerHTML = "NEW CELL2";
                    alert(formData.scheduleDate);
                }
            }
        }*/
        
        /*  e.addEventListener('click', addSchedule());
            if(type=='click'){
                if(scheduleDate == null || scheduleRegion == null){
                    alert("필수 입력을 확인해보세요!")
                } else {
                    console.log(scheduleRegion+"테스트");
                    var row = table.insertRow(table.rows.length);
                    for(const i = 0; i < 8; i++){
                        var celli = row.insertCell(i);
                    }
                    
                    cell1.innerHTML = `${scheduleDate[0]}`;
                    cell2.innerHTML = scheduleRegion;
                    cell3.innerHTML = `<input type="checkbox" onclick="check(this)">`;
                    
                    //schedule.value = "";
                }
            }
        }
        e.addEventListener('click', addSchedule);
        e.addEventListener('click', addSchedule);
    }*/
    

    

</script>
{% endblock %}